/**
* jQuery NavToSelect v0.5.0
* https://github.com/amazingSurge/jquery-navToSelect
*
* Copyright (c) amazingSurge
* Released under the LGPL-3.0 license
*/
!function(e,t){if("function"==typeof define&&define.amd)define(["jquery"],t);else if("undefined"!=typeof exports)t(require("jquery"));else{var n={exports:{}};t(e.jQuery),e.jqueryNavToSelectEs=n.exports}}(this,function(e){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=t(e),o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a={maxLevel:4,prependTo:null,activeClass:"active",linkSelector:"a:first",indentString:"&ndash;",indentSpace:!0,placeholder:"Navigate to...",useOptgroup:!1,namespace:"navToSelect",itemFilter:function(e){return!0},getItemLabel:function(e){return e.find(this.options.linkSelector).text()},getItemsFromList:function(e,t){var n=this,i=[];return e.children("li").each(function(){var e=$(this);if(n.options.itemFilter(e)){var o={value:n.getItemValue(e),label:n.options.getItemLabel.call(n,e),linkable:n.isLinkable(e),actived:n.isActived(e)};e.children("ul, ol").length&&(o.items=[],e.children("ul, ol").each(function(){o.items=o.items.concat(n.options.getItemsFromList.call(n,$(this),t+1))})),i.push(o)}}),i},onChange:function(){$(this).data("linkable")!==!1&&(document.location.href=this.value)}},s="navToSelect",u=function(){function e(t,o){n(this,e),this.element=t,this.$element=(0,i.default)(t),this._isBuilded=!1,this.options=i.default.extend(a,o),this.init()}return l(e,[{key:"init",value:function(){var e=this,t=this.getItems();this.build(t),this.$select.on("change",this.options.onChange),(0,i.default)(window).on("orientationchange",function(){e.$select.is(":hidden")&&e.$select.is(":focus")&&e.$select.blur()}),this.trigger("ready")}},{key:"build",value:function(e){this.$select=(0,i.default)("<select />",{class:this.options.namespace}).html(this.buildOptions(e,1)),null===this.options.prependTo?this.$element.after(this.$select):this.$select.prependTo(this.options.prependTo),this._isBuilded=!0}},{key:"buildOption",value:function(e,t){var n=new Array(t).join(this.options.indentString);return 1!==t&&this.options.indentSpace&&(n+="&nbsp;"),'<option value="'+e.value+'"'+(e.linkable===!1?' data-linkable="false"':"")+(e.actived===!0?' selected="selected"':"")+">"+n+e.label+"</option>"}},{key:"buildOptions",value:function(e,t){var n=this;if(t>this.options.maxLevel)return"";var o="";return i.default.each(e,function(e,i){i.linkable===!1&&"undefined"!=typeof i.items&&1===t&&n.options.useOptgroup&&(o+='<optgroup label="'+i.label+'">',o+=n.buildOptions(i.items,t+1),o+="</optgroup>"),"undefined"!=typeof i.items?(o+=n.buildOption(i,t),o+=n.buildOptions(i.items,t+1)):o+=n.buildOption(i,t)}),o}},{key:"getItems",value:function(){var e=[];return this.options.placeholder&&(e=e.concat({value:"#",label:this.options.placeholder,linkable:!1})),e=e.concat(this.options.getItemsFromList.call(this,this.$element,1))}},{key:"getItemValue",value:function(e){return e.find(this.options.linkSelector).attr("href")}},{key:"isLinkable",value:function(e){return"#"!==this.getItemValue(e)}},{key:"isActived",value:function(e){return e.is("."+this.options.activeClass)}},{key:"isBuilded",value:function(){return this._isBuilded}},{key:"trigger",value:function(e){for(var t,n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];var l=(t=[this]).concat.apply(t,i);this.$element.trigger(s+"::"+e,l),e=e.replace(/\b\w+\b/g,function(e){return e.substring(0,1).toUpperCase()+e.substring(1)});var a="on"+e;if("function"==typeof this.options[a]){var u;(u=this.options[a]).apply.apply(u,[this].concat(i))}}},{key:"getSelect",value:function(){return this.$select}},{key:"destroy",value:function(){this.$select.remove(),this.$element.data("NavToSelect",null),this.trigger("destroy")}}],[{key:"setDefaults",value:function(e){i.default.extend(a,i.default.isPlainObject(e)&&e)}}]),e}();i.default.navToSelect=u;var r={version:"0.5.0"},c="navToSelect",f=i.default.fn.navToSelect,d=function(e){for(var t=this,n=arguments.length,l=Array(n>1?n-1:0),a=1;a<n;a++)l[a-1]=arguments[a];if("string"==typeof e){var s=function(){var n=e;if(/^_/.test(n))return{v:!1};if(!/^(get)/.test(n))return{v:t.each(function(){var e=i.default.data(this,c);e&&"function"==typeof e[n]&&e[n].apply(e,l)})};var o=t.first().data(c);return o&&"function"==typeof o[n]?{v:o[n].apply(o,l)}:void 0}();if("object"===("undefined"==typeof s?"undefined":o(s)))return s.v}return this.each(function(){(0,i.default)(this).data(c)||(0,i.default)(this).data(c,new u(this,e))})};i.default.fn.navToSelect=d,i.default.navToSelect=i.default.extend({setDefaults:u.setDefaults,noConflict:function(){return i.default.fn.navToSelect=f,d}},r)});